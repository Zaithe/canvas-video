!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.buildcanvasVideo=e()}}(function(){return function e(n,t,i){function r(s,a){if(!t[s]){if(!n[s]){var f="function"==typeof require&&require;if(!a&&f)return f(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[s]={exports:{}};n[s][0].call(l.exports,function(e){var t=n[s][1][e];return r(t?t:e)},l,l.exports,e,n,t,i)}return t[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),s=e("raf"),a=i(s),f=e("performance-now"),u=i(f),l=function(){function e(n){r(this,e),this.video=n.video,this.canvas=n.canvas,this.context=this.canvas.getContext("2d"),this.fps=n.fps||!1,this.interval=this.fps?1e3/this.fps:void 0,this.rAF=null,this.playing=!1}return o(e,[{key:"play",value:function(){this.perfs=this.fps?{now:void 0,then:u["default"](),delta:void 0}:{},this.rAF=a["default"](this.draw.bind(this)),this.playing=!0}},{key:"pause",value:function(){a["default"].cancel(this.rAF),this.playing=!1,this.fps&&(delete this.perfs.now,delete this.perfs.then)}},{key:"draw",value:function(){this.playing&&(this.rAF=a["default"](this.draw.bind(this)),this.fps&&(this.perfs.now=u["default"](),this.perfs.delta=this.perfs.now-this.perfs.then),(!this.fps||this.perfs.delta>this.interval)&&(this.context.drawImage(this.video,0,0,this.bounding.width,this.bounding.height),this.fps&&(this.perfs.then=this.perfs.now-this.perfs.delta%this.interval)))}},{key:"resize",value:function(){this.bounding=this.video.getBoundingClientRect(),this.canvas.style.width=this.bounding.width+"px",this.canvas.style.height=this.bounding.height+"px",this.canvas.width=this.bounding.width,this.canvas.height=this.bounding.height}}]),e}();t["default"]=l},{"performance-now":2,raf:4}],2:[function(e,n){(function(e){(function(){var t,i,r;"undefined"!=typeof performance&&null!==performance&&performance.now?n.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(n.exports=function(){return(t()-r)/1e6},i=e.hrtime,t=function(){var e;return e=i(),1e9*e[0]+e[1]},r=t()):Date.now?(n.exports=function(){return Date.now()-r},r=Date.now()):(n.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:3}],3:[function(e,n){function t(){u=!1,s.length?f=s.concat(f):l=-1,f.length&&i()}function i(){if(!u){var e=setTimeout(t);u=!0;for(var n=f.length;n;){for(s=f,f=[];++l<n;)s&&s[l].run();l=-1,n=f.length}s=null,u=!1,clearTimeout(e)}}function r(e,n){this.fun=e,this.array=n}function o(){}var s,a=n.exports={},f=[],u=!1,l=-1;a.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];f.push(new r(e,n)),1!==f.length||u||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],4:[function(e,n){(function(t){for(var i=e("performance-now"),r="undefined"==typeof window?t:window,o=["moz","webkit"],s="AnimationFrame",a=r["request"+s],f=r["cancel"+s]||r["cancelRequest"+s],u=0;!a&&u<o.length;u++)a=r[o[u]+"Request"+s],f=r[o[u]+"Cancel"+s]||r[o[u]+"CancelRequest"+s];if(!a||!f){var l=0,c=0,h=[],d=1e3/60;a=function(e){if(0===h.length){var n=i(),t=Math.max(0,d-(n-l));l=t+n,setTimeout(function(){var e=h.slice(0);h.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(l)}catch(t){setTimeout(function(){throw t},0)}},Math.round(t))}return h.push({handle:++c,callback:e,cancelled:!1}),c},f=function(e){for(var n=0;n<h.length;n++)h[n].handle===e&&(h[n].cancelled=!0)}}n.exports=function(e){return a.call(r,e)},n.exports.cancel=function(){f.apply(r,arguments)},n.exports.polyfill=function(){r.requestAnimationFrame=a,r.cancelAnimationFrame=f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":2}]},{},[1])(1)});